---
// Component imports
import Section from "./Section.astro";
import Review from "./Review.astro";

// Data imports
import { reviews } from "../data";
---

<Section sectionTitle="Reviews" bgLight="bg-gray-200">
  <div class="relative grid gap-8">
    <!-- Grid -->
    <div class="grid grid-flow-dense grid-cols-1 gap-8 lg:grid-cols-3">
      <!-- Review Index 0 -->
      <Review item={reviews[0].item} quote={reviews[0].review}>
        <svg
          aria-hidden="true"
          class="size-4 md:size-6 align-middle inline-block"
          fill="currentColor"
          viewBox="0 0 9.525 11.112"
          xml:space="preserve"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            style="stroke:none;stroke-width:.204271"
            d="M86.82 95.4c-.575-.256-.683-.818-.321-1.669.118-.279.215-.565.215-.635 0-.19.105-.456.193-.49.17-.066.097.62-.112 1.058-.378.793-.087 1.25.788 1.234.707-.012.839-.207.693-1.023-.113-.63-.104-1.031.023-1.031.145 0 .189.125.158.455-.023.246-.001.435.084.74.175.63.123.882-.232 1.125-.33.226-1.2.364-1.489.236zm4.373-1.005c-.109-.178-.112-.246-.112-2.565v-2.383l.137-.063c.373-.17.348-.336.348 2.373 0 2.376-.002 2.44-.113 2.628-.137.234-.123.233-.26.01zm.238-.979c0-.12-.076-.157-.183-.09-.102.065-.03.235.089.212.052-.01.094-.065.094-.122zm-.134.024c0-.03.025-.055.057-.055.031 0 .042.025.024.055-.019.03-.044.054-.058.054-.013 0-.023-.025-.023-.054zm.134-1.107c0-.12-.076-.158-.183-.09-.102.065-.03.234.089.211.052-.01.094-.065.094-.121zm-.134.023c0-.03.025-.054.057-.054.031 0 .042.024.024.054-.019.03-.044.054-.058.054-.013 0-.023-.024-.023-.054zm.134-1.107c0-.12-.076-.158-.183-.09-.102.065-.03.234.089.211.052-.01.094-.064.094-.121zm-.134.023c0-.03.025-.054.057-.054.031 0 .042.024.024.054-.019.03-.044.054-.058.054-.013 0-.023-.024-.023-.054zm-3.918 2.183c-.26-.033-.275-.084-.308-1.018l-.064-1.832c-.019-.53-.018-1.05.002-1.155l.035-.19.244.225c.568.527 1.602.567 2.515.1.259-.133.218-.198.381.604.367 1.803.307 2.195-.384 2.505-.301.135-.995.188-1.36.103-.282-.065-.322-.03-.323.28-.002.408-.1.458-.738.378zm-.745-2.532c-.758-.231-1.739-1.063-1.916-1.624-.14-.444.055-1.563.355-2.04.203-.324.248-.299.075.043-.393.78-.12 1.412.625 1.45.266.012.448.063.755.21l.405.193-.036.91c-.042 1.068-.002.937-.263.858zm3.613-.856c-.232-.724-.087-.927.701-.982 2.023-.143 3.237-1.306 2.612-2.502-.18-.345-.174-.394.042-.318.337.118.638.8.59 1.336-.08.896-.772 1.653-1.943 2.128-.595.241-.575.246-.575-.13 0-.369-.08-.428-.424-.315l-.196.065-.016.36c-.015.353-.018.36-.182.392-.277.056-.585.038-.609-.034zm-2.481-.334c-.09-.04-.313-.207-.497-.373-.44-.397-.948-.64-1.412-.676-.811-.062-1.033-.593-.595-1.42.333-.627.524-.678.933-.25.535.56 1.166.287 1.166-.505 0-.294.112-.317.56-.113.659.301 1.193.4 2.176.403.482.002.876.01.876.019a1.3 1.3 0 0 1-.116.173c-.109.148-.111.177-.046.484.278 1.319-.804 2.336-2.48 2.331-.222 0-.476-.033-.565-.073zm2.955-1.016c.157-.305.171-.377.171-.84 0-.49.004-.506.123-.506.186 0 .976-.42 1.15-.61.144-.16.645-.394.974-.457.297-.057.583.651.472 1.17-.176.825-1.182 1.389-2.755 1.546l-.306.03zm.144-1.488c0-.048.174-.384.386-.745.594-1.01.563-.953.409-.773a5.605 5.605 0 0 0-.387.582c-.227.384-.27.428-.416.428h-.164l.173-.312c.496-.896 1.153-1.548 1.53-1.52.28.02.31.137.115.421a1.848 1.848 0 0 0-.298.961c0 .395-.104.523-.652.799-.522.262-.696.302-.696.159zm-4.572-.231c-.14-.154-.328-.3-.416-.323-.185-.05-.363-.555-.336-.957l.014-.216.564-.016c.672-.019.823.032.998.335.516.896-.176 1.885-.824 1.177zm.939-1.112c-.194-.397-.345-.49-.814-.502l-.377-.01-.027-.36c-.022-.29-.051-.381-.149-.46-.216-.177-.15-.217.357-.217.672 0 .697.024 1.004.99.134.422.243.787.243.81 0 .125-.112.006-.237-.25z"
            transform="translate(-84.672 -84.337)"></path>
        </svg>
      </Review>
      <!-- Review Index 1 lg:col-span-2-->
      <Review
        lgColSpan="lg:col-span-2"
        item={reviews[1].item}
        quote={reviews[1].review}
      >
        <svg
          aria-hidden="true"
          class="size-4 md:size-6 align-middle inline-block"
          viewBox="0 0 16 16"
          fill="currentColor"
          xmlns="http://www.w3.org/2000/svg"
          ><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g
            id="SVGRepo_tracerCarrier"
            stroke-linecap="round"
            stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier">
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M8 0C6.89543 0 6 0.895431 6 2V2.0359L5.96891 2.01795C5.01233 1.46566 3.78915 1.79341 3.23686 2.75C2.68458 3.70659 3.01233 4.92977 3.96891 5.48205L4 5.5L3.96891 5.51795C3.01233 6.07023 2.68458 7.29342 3.23686 8.25C3.78915 9.20658 5.01233 9.53434 5.96891 8.98205L6 8.9641V9C6 10.1046 6.89543 11 8 11C9.10457 11 10 10.1046 10 9V8.9641L10.0311 8.98205C10.9877 9.53434 12.2109 9.20658 12.7631 8.25C13.3154 7.29342 12.9877 6.07023 12.0311 5.51795L12 5.5L12.0311 5.48205C12.9877 4.92977 13.3154 3.70659 12.7631 2.75C12.2109 1.79341 10.9877 1.46566 10.0311 2.01795L10 2.0359V2C10 0.895431 9.10457 0 8 0ZM7.99995 7C8.82838 7 9.49995 6.32843 9.49995 5.5C9.49995 4.67157 8.82838 4 7.99995 4C7.17152 4 6.49995 4.67157 6.49995 5.5C6.49995 6.32843 7.17152 7 7.99995 7Z"
              fill=""></path>
            <path
              d="M7 16H6C3.23858 16 1 13.7614 1 11V10H2C4.76142 10 7 12.2386 7 15V16Z"
              fill=""></path>
            <path
              d="M10 16H9V15C9 12.2386 11.2386 10 14 10H15V11C15 13.7614 12.7614 16 10 16Z"
              fill=""></path>
          </g></svg
        >
      </Review>
      <!-- Review Index 3 lg:col-span-2 -->
      <Review
        lgColSpan="lg:col-span-2"
        item={reviews[3].item}
        quote={reviews[3].review}
      >
        <svg
          aria-hidden="true"
          class="size-4 md:size-6 align-middle inline-block"
          viewBox="0 0 16 16"
          fill="currentColor"
          xmlns="http://www.w3.org/2000/svg"
          ><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g
            id="SVGRepo_tracerCarrier"
            stroke-linecap="round"
            stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier">
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M8 0C6.89543 0 6 0.895431 6 2V2.0359L5.96891 2.01795C5.01233 1.46566 3.78915 1.79341 3.23686 2.75C2.68458 3.70659 3.01233 4.92977 3.96891 5.48205L4 5.5L3.96891 5.51795C3.01233 6.07023 2.68458 7.29342 3.23686 8.25C3.78915 9.20658 5.01233 9.53434 5.96891 8.98205L6 8.9641V9C6 10.1046 6.89543 11 8 11C9.10457 11 10 10.1046 10 9V8.9641L10.0311 8.98205C10.9877 9.53434 12.2109 9.20658 12.7631 8.25C13.3154 7.29342 12.9877 6.07023 12.0311 5.51795L12 5.5L12.0311 5.48205C12.9877 4.92977 13.3154 3.70659 12.7631 2.75C12.2109 1.79341 10.9877 1.46566 10.0311 2.01795L10 2.0359V2C10 0.895431 9.10457 0 8 0ZM7.99995 7C8.82838 7 9.49995 6.32843 9.49995 5.5C9.49995 4.67157 8.82838 4 7.99995 4C7.17152 4 6.49995 4.67157 6.49995 5.5C6.49995 6.32843 7.17152 7 7.99995 7Z"
              fill=""></path>
            <path
              d="M7 16H6C3.23858 16 1 13.7614 1 11V10H2C4.76142 10 7 12.2386 7 15V16Z"
              fill=""></path>
            <path
              d="M10 16H9V15C9 12.2386 11.2386 10 14 10H15V11C15 13.7614 12.7614 16 10 16Z"
              fill=""></path>
          </g></svg
        >
      </Review>
      <!-- Review Index 4 lg:col-span-2-->
      <Review
        lgColSpan="lg:col-span-2"
        item={reviews[4].item}
        quote={reviews[4].review}
      >
        <svg
          aria-hidden="true"
          class="size-4 md:size-6 align-middle inline-block"
          viewBox="0 0 16 16"
          fill="currentColor"
          xmlns="http://www.w3.org/2000/svg"
          ><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g
            id="SVGRepo_tracerCarrier"
            stroke-linecap="round"
            stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier">
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M8 0C6.89543 0 6 0.895431 6 2V2.0359L5.96891 2.01795C5.01233 1.46566 3.78915 1.79341 3.23686 2.75C2.68458 3.70659 3.01233 4.92977 3.96891 5.48205L4 5.5L3.96891 5.51795C3.01233 6.07023 2.68458 7.29342 3.23686 8.25C3.78915 9.20658 5.01233 9.53434 5.96891 8.98205L6 8.9641V9C6 10.1046 6.89543 11 8 11C9.10457 11 10 10.1046 10 9V8.9641L10.0311 8.98205C10.9877 9.53434 12.2109 9.20658 12.7631 8.25C13.3154 7.29342 12.9877 6.07023 12.0311 5.51795L12 5.5L12.0311 5.48205C12.9877 4.92977 13.3154 3.70659 12.7631 2.75C12.2109 1.79341 10.9877 1.46566 10.0311 2.01795L10 2.0359V2C10 0.895431 9.10457 0 8 0ZM7.99995 7C8.82838 7 9.49995 6.32843 9.49995 5.5C9.49995 4.67157 8.82838 4 7.99995 4C7.17152 4 6.49995 4.67157 6.49995 5.5C6.49995 6.32843 7.17152 7 7.99995 7Z"
              fill=""></path>
            <path
              d="M7 16H6C3.23858 16 1 13.7614 1 11V10H2C4.76142 10 7 12.2386 7 15V16Z"
              fill=""></path>
            <path
              d="M10 16H9V15C9 12.2386 11.2386 10 14 10H15V11C15 13.7614 12.7614 16 10 16Z"
              fill=""></path>
          </g></svg
        >
      </Review>
      <!-- Review Index 2 lg:row-span-2-->
      <Review
        lgRowSpan="lg:row-span-2"
        item={reviews[2].item}
        quote={reviews[2].review}
      >
        <svg
          aria-hidden="true"
          class="size-4 md:size-6 align-middle inline-block"
          viewBox="0 0 16 16"
          fill="currentColor"
          xmlns="http://www.w3.org/2000/svg"
          ><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g
            id="SVGRepo_tracerCarrier"
            stroke-linecap="round"
            stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier">
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M8 0C6.89543 0 6 0.895431 6 2V2.0359L5.96891 2.01795C5.01233 1.46566 3.78915 1.79341 3.23686 2.75C2.68458 3.70659 3.01233 4.92977 3.96891 5.48205L4 5.5L3.96891 5.51795C3.01233 6.07023 2.68458 7.29342 3.23686 8.25C3.78915 9.20658 5.01233 9.53434 5.96891 8.98205L6 8.9641V9C6 10.1046 6.89543 11 8 11C9.10457 11 10 10.1046 10 9V8.9641L10.0311 8.98205C10.9877 9.53434 12.2109 9.20658 12.7631 8.25C13.3154 7.29342 12.9877 6.07023 12.0311 5.51795L12 5.5L12.0311 5.48205C12.9877 4.92977 13.3154 3.70659 12.7631 2.75C12.2109 1.79341 10.9877 1.46566 10.0311 2.01795L10 2.0359V2C10 0.895431 9.10457 0 8 0ZM7.99995 7C8.82838 7 9.49995 6.32843 9.49995 5.5C9.49995 4.67157 8.82838 4 7.99995 4C7.17152 4 6.49995 4.67157 6.49995 5.5C6.49995 6.32843 7.17152 7 7.99995 7Z"
              fill=""></path>
            <path
              d="M7 16H6C3.23858 16 1 13.7614 1 11V10H2C4.76142 10 7 12.2386 7 15V16Z"
              fill=""></path>
            <path
              d="M10 16H9V15C9 12.2386 11.2386 10 14 10H15V11C15 13.7614 12.7614 16 10 16Z"
              fill=""></path>
          </g></svg
        >
      </Review>
      <!-- Review Index 05  -->
      <Review isHidden item={reviews[5].item} quote={reviews[5].review}>
        <svg
          aria-hidden="true"
          class="size-4 md:size-6 align-middle inline-block"
          viewBox="0 0 16 16"
          fill="currentColor"
          xmlns="http://www.w3.org/2000/svg"
          ><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g
            id="SVGRepo_tracerCarrier"
            stroke-linecap="round"
            stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier">
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M8 0C6.89543 0 6 0.895431 6 2V2.0359L5.96891 2.01795C5.01233 1.46566 3.78915 1.79341 3.23686 2.75C2.68458 3.70659 3.01233 4.92977 3.96891 5.48205L4 5.5L3.96891 5.51795C3.01233 6.07023 2.68458 7.29342 3.23686 8.25C3.78915 9.20658 5.01233 9.53434 5.96891 8.98205L6 8.9641V9C6 10.1046 6.89543 11 8 11C9.10457 11 10 10.1046 10 9V8.9641L10.0311 8.98205C10.9877 9.53434 12.2109 9.20658 12.7631 8.25C13.3154 7.29342 12.9877 6.07023 12.0311 5.51795L12 5.5L12.0311 5.48205C12.9877 4.92977 13.3154 3.70659 12.7631 2.75C12.2109 1.79341 10.9877 1.46566 10.0311 2.01795L10 2.0359V2C10 0.895431 9.10457 0 8 0ZM7.99995 7C8.82838 7 9.49995 6.32843 9.49995 5.5C9.49995 4.67157 8.82838 4 7.99995 4C7.17152 4 6.49995 4.67157 6.49995 5.5C6.49995 6.32843 7.17152 7 7.99995 7Z"
              fill=""></path>
            <path
              d="M7 16H6C3.23858 16 1 13.7614 1 11V10H2C4.76142 10 7 12.2386 7 15V16Z"
              fill=""></path>
            <path
              d="M10 16H9V15C9 12.2386 11.2386 10 14 10H15V11C15 13.7614 12.7614 16 10 16Z"
              fill=""></path>
          </g></svg
        >
      </Review>
      <!-- Review Index 08 lg:col-span-3 -->
      <Review
        isHidden
        lgColSpan="lg:col-span-2"
        lgRowSpan="lg-row-span-2"
        item={reviews[8].item}
        quote={reviews[8].review}
      >
        <svg
          aria-hidden="true"
          class="size-4 md:size-6 align-middle inline-block"
          viewBox="0 0 16 16"
          fill="currentColor"
          xmlns="http://www.w3.org/2000/svg"
          ><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g
            id="SVGRepo_tracerCarrier"
            stroke-linecap="round"
            stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier">
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M8 0C6.89543 0 6 0.895431 6 2V2.0359L5.96891 2.01795C5.01233 1.46566 3.78915 1.79341 3.23686 2.75C2.68458 3.70659 3.01233 4.92977 3.96891 5.48205L4 5.5L3.96891 5.51795C3.01233 6.07023 2.68458 7.29342 3.23686 8.25C3.78915 9.20658 5.01233 9.53434 5.96891 8.98205L6 8.9641V9C6 10.1046 6.89543 11 8 11C9.10457 11 10 10.1046 10 9V8.9641L10.0311 8.98205C10.9877 9.53434 12.2109 9.20658 12.7631 8.25C13.3154 7.29342 12.9877 6.07023 12.0311 5.51795L12 5.5L12.0311 5.48205C12.9877 4.92977 13.3154 3.70659 12.7631 2.75C12.2109 1.79341 10.9877 1.46566 10.0311 2.01795L10 2.0359V2C10 0.895431 9.10457 0 8 0ZM7.99995 7C8.82838 7 9.49995 6.32843 9.49995 5.5C9.49995 4.67157 8.82838 4 7.99995 4C7.17152 4 6.49995 4.67157 6.49995 5.5C6.49995 6.32843 7.17152 7 7.99995 7Z"
              fill=""></path>
            <path
              d="M7 16H6C3.23858 16 1 13.7614 1 11V10H2C4.76142 10 7 12.2386 7 15V16Z"
              fill=""></path>
            <path
              d="M10 16H9V15C9 12.2386 11.2386 10 14 10H15V11C15 13.7614 12.7614 16 10 16Z"
              fill=""></path>
          </g></svg
        >
      </Review>
      <!-- Review Index 06 -->
      <Review
        isHidden
        lgColSpan="lg:col-span-2"
        item={reviews[6].item}
        quote={reviews[6].review}
      >
        <svg
          aria-hidden="true"
          class="size-4 md:size-6 align-middle inline-block"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          fill="currentColor"
          ><path d="M14 2H10V8H4V12H10V22H14V12H20V8H14V2Z"></path></svg
        >
      </Review>
      <!-- Review Index 07 -->
      <Review isHidden item={reviews[7].item} quote={reviews[7].review}>
        <svg
          aria-hidden="true"
          class="size-4 md:size-6 align-middle inline-block"
          viewBox="0 0 16 16"
          fill="currentColor"
          xmlns="http://www.w3.org/2000/svg"
          ><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g
            id="SVGRepo_tracerCarrier"
            stroke-linecap="round"
            stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier">
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M8 0C6.89543 0 6 0.895431 6 2V2.0359L5.96891 2.01795C5.01233 1.46566 3.78915 1.79341 3.23686 2.75C2.68458 3.70659 3.01233 4.92977 3.96891 5.48205L4 5.5L3.96891 5.51795C3.01233 6.07023 2.68458 7.29342 3.23686 8.25C3.78915 9.20658 5.01233 9.53434 5.96891 8.98205L6 8.9641V9C6 10.1046 6.89543 11 8 11C9.10457 11 10 10.1046 10 9V8.9641L10.0311 8.98205C10.9877 9.53434 12.2109 9.20658 12.7631 8.25C13.3154 7.29342 12.9877 6.07023 12.0311 5.51795L12 5.5L12.0311 5.48205C12.9877 4.92977 13.3154 3.70659 12.7631 2.75C12.2109 1.79341 10.9877 1.46566 10.0311 2.01795L10 2.0359V2C10 0.895431 9.10457 0 8 0ZM7.99995 7C8.82838 7 9.49995 6.32843 9.49995 5.5C9.49995 4.67157 8.82838 4 7.99995 4C7.17152 4 6.49995 4.67157 6.49995 5.5C6.49995 6.32843 7.17152 7 7.99995 7Z"
              fill=""></path>
            <path
              d="M7 16H6C3.23858 16 1 13.7614 1 11V10H2C4.76142 10 7 12.2386 7 15V16Z"
              fill=""></path>
            <path
              d="M10 16H9V15C9 12.2386 11.2386 10 14 10H15V11C15 13.7614 12.7614 16 10 16Z"
              fill=""></path>
          </g></svg
        >
      </Review>
    </div>
    <button
      aria-expanded="false"
      id="reviews-button"
      class="w-max place-self-center rounded-full bg-blue-400 px-3 py-2 text-lg font-bold shadow-lg hover:bg-blue-500 focus-visible:bg-blue-500 dark:bg-blue-600 dark:shadow-neutral-700 dark:hover:bg-blue-700 dark:focus-visible:bg-blue-700"
    >
      Load More <span class="sr-only">Articles</span>
    </button>
    <a
      href="https://www.ebay.com/fdbk/feedback_profile/rosyarc?user_context=BUYER"
      target="_blank"
      rel="noopener"
      class="w-max place-self-center rounded-full bg-green-400 px-3 py-2 text-lg font-bold shadow-lg hover:bg-green-500 focus-visible:bg-green-500 dark:bg-green-700 dark:shadow-neutral-700 dark:hover:bg-green-800 dark:focus-visible:bg-green-800"
      ><span class="sr-only">Go to eBay</span> Feedback Profile
    </a>
  </div>
</Section>

<script>
  function expandReviews() {
    const reviewButtonEl =
      (document.getElementById("reviews-button") as HTMLButtonElement) || null;

    if (reviewButtonEl) {
      reviewButtonEl.onclick = () => {
        reviewButtonEl.ariaExpanded = "true";
        document.querySelectorAll(".review").forEach((article) => {
          if (article.classList.contains("hidden")) {
            article.classList.remove("hidden");

            setTimeout(() => {
              article.classList.remove("opacity-0", "scale-90");
              article.classList.add("opacity-100", "scale-100");
              reviewButtonEl.classList.add("hidden");
            }, 10);
          }
        });
      };
    }
  }

  document.addEventListener("astro:page-load", () => {
    expandReviews();
  });
</script>
